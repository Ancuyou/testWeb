<footer th:fragment="footer" class="bg-dark text-white py-4">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-md-6">
                <p class="mb-0">&copy; 2025 QAUTE - Tư vấn Sinh viên Online. All rights reserved.</p>
            </div>
            <div class="col-md-6 text-end">
                <div class="social-links">
                    <a href="#" class="text-light me-3 fs-5"><i class="fab fa-facebook"></i></a>
                    <a href="#" class="text-light me-3 fs-5"><i class="fab fa-twitter"></i></a>
                    <a href="#" class="text-light me-3 fs-5"><i class="fab fa-instagram"></i></a>
                    <a href="#" class="text-light fs-5"><i class="fab fa-linkedin"></i></a>
                </div>
            </div>
        </div>
    </div>

    <!-- 1) Core libs (load once) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
            crossorigin="anonymous"></script>
    <script src="https://unpkg.com/lottie-web@latest/build/player/lottie.min.js"></script>

    <!-- 2) Fragment scripts -->
    <th:block th:replace="~{fragments/userDropDown :: notificationScript}"></th:block>

    <!-- 3) App scripts -->
    <script th:src="@{/js/chat-bubble.js}"></script>
    <script th:src="@{/js/script.js}"></script>

    <!-- 4) Initializers and global handlers for inline HTML usage -->
    <script>
        // Make functions callable from inline attributes like \`onclick="toggleComments('id')"\`
        window.toggleComments = function (commentId) {
            const el = document.getElementById(commentId);
            if (!el) return;
            el.style.display = (el.style.display === 'none' || !el.style.display) ? 'block' : 'none';
        };

        window.startChatWithConsultant = function (button) {
            if (!button) return;
            const consultantID = button.getAttribute('data-consultant-id');
            const profileID = button.getAttribute('data-profile-id');
            const consultantName = button.getAttribute('data-consultant-name');

            if (typeof window.openChatWindow === 'function') {
                window.openChatWindow(profileID, consultantName);
            }
            if (typeof window.loadChatHistory === 'function') {
                window.loadChatHistory(profileID);
            }
        };

        // Bootstrap component init (after bundle is loaded)
        document.addEventListener('DOMContentLoaded', function () {
            var dropdownToggles = [].slice.call(document.querySelectorAll('[data-bs-toggle="dropdown"]'));
            dropdownToggles.forEach(function (el) { new bootstrap.Dropdown(el); });
        });
    </script>
</footer>